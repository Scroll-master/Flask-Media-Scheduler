{% extends 'base.html' %}

{% block title %}Специальная страница{% endblock %}

{% block content %}
    <h1>Специальная страница</h1>

    <h2>Расписания</h2>
<table>
    <thead>
        <tr>
            <th>Название</th>
            <th>Описание</th>
            <th>Тип</th>
            <th>Дата (для специальной даты)</th>
            <th>Действия</th>
        </tr>
    </thead>
    <tbody>
        {% for schedule in schedules %}
        <tr>
            <td>{{ schedule.name }}</td>
            <td>{{ schedule.description }}</td>
            <td>{{ schedule.type }}</td>
            <td>
                {% if schedule.type == 'специальная дата' and schedule.datetime %}
                    {{ schedule.datetime.strftime('%Y-%m-%d %H:%M') }}
                {% else %}
                    N/A
                {% endif %}
            </td>

            <td>

                {% if schedule.id %}
                <form action="{{ url_for('edit_schedule', schedule_id=schedule.id) }}" method="get">
                    <button type="submit">Редактировать</button>
                </form>
                <form action="{{ url_for('delete_schedule', schedule_id=schedule.id) }}" method="post">
                    <button type="submit">Удалить</button>
                </form>
                {% else %}
                <p>Действия недоступны</p>
                {% endif %}
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<form action="{{ url_for('new_schedule') }}" method="get">
    <button type="submit">Добавить новое расписание</button>
</form>


    <form method="GET" action="/logout">
        <button type="submit">Выйти из системы</button>
    </form>
{% endblock %}
